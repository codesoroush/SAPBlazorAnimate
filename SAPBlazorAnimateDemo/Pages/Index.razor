@using System.Timers;
@page "/"

<h1 class="@AnimateBook.Lightspeed.LightSpeedIn.Faster()">Hello, world!</h1>

<div class="row">
    <SAPAnimate @ref="animatedElement1">
        <div class="@animatedElement1.Animator" style="width:200px;height:200px;background-color:red;margin:5px">
            <button style="margin:auto;" @onclick="btn1Click">HeartBeat</button>
        </div>
    </SAPAnimate>

    <SAPAnimate @ref="animatedElement2">
        <div class="@animatedElement2.Animator" style="width:200px;height:200px;background-color:green;margin:5px">
            <button style="margin:auto;" @onclick="btn2Click">FlipInX</button>

        </div>
    </SAPAnimate>
    <SAPAnimate @ref="animatedElement3">
        <div class="@animatedElement3.Animator" style="width: 200px;
        height: 200px;
        background-color: yellow;
        margin: 5px">

            <button style="margin:auto;" @onclick="btn3Click">SlideOutUp</button>

        </div>
    </SAPAnimate>
    <SAPAnimate @ref="animatedElement4">
        <div class="@animatedElement4.Animator" style="width: 200px;
        height: 200px;
        background-color: blue;
        margin: 5px">

        <button style="margin:auto;" @onclick="btn4Click">ZoomIn</button>
            </div>
    </SAPAnimate>

</div>

<div class="row">
    <div class="col-md-12">
        <h2>Control Animation Start Speed : Fast/Slow Sample</h2>
        <p>Modes : Fast , Faster , Slow , Slower</p>

    </div>
    <SAPAnimate @ref="animatedElement5">
        <div class="@animatedElement5.Animator" style="width: 200px;
        height: 200px;
        background-color: gray;
        margin: 5px">

            <button style="margin:auto;" @onclick="btn5Click">Slower ZoomIn</button>
        </div>
    </SAPAnimate>
    <SAPAnimate @ref="animatedElement6">
        <div class="@animatedElement6.Animator" style="width: 200px;
        height: 200px;
        background-color: salmon;
        margin: 5px">

            <button style="margin:auto;" @onclick="btn6Click">Faster ZoomIn</button>
        </div>
    </SAPAnimate>
</div>



@code
{
    private Timer _timer;
    private int _counter = 0;

    SAPAnimate animatedElement1;
    SAPAnimate animatedElement2;
    SAPAnimate animatedElement3;
    SAPAnimate animatedElement4;
    SAPAnimate animatedElement5;
    SAPAnimate animatedElement6;

    protected override async Task OnInitializedAsync()
    {

        _timer = new Timer(5000);



        _timer.Elapsed += (sender, e) =>
        {
            _counter++;
            switch (_counter)
            {
                case 1:
                    animatedElement1.Animate(AnimateBook.AttentionSeekers.HeartBeat);
                    break;
                case 2:
                    animatedElement2.Animate(AnimateBook.AttentionSeekers.HeartBeat);
                    break;
                case 3:
                    animatedElement3.Animate(AnimateBook.AttentionSeekers.HeartBeat);
                    break;
                case 4:
                    animatedElement4.Animate(AnimateBook.AttentionSeekers.HeartBeat);
                    break;
                case 5:
                    animatedElement5.Animate(AnimateBook.AttentionSeekers.HeartBeat);
                    break;
                case 6:
                    animatedElement6.Animate(AnimateBook.AttentionSeekers.HeartBeat);
                    _counter = 0;
                    break;
                default: 
                    _counter = 0;
                    break;
            }


            InvokeAsync(StateHasChanged);
        };

        _timer.Start();

        await base.OnInitializedAsync();
    }

    void btn1Click()
    {
        animatedElement1.Animate(AnimateBook.AttentionSeekers.HeartBeat);
    }
    void btn2Click()
    {
        animatedElement2.Animate(AnimateBook.Flippers.FlipInX);
    }
    void btn3Click()
    {
        animatedElement3.Animate(AnimateBook.SlidingExits.SlideOutUp);
    }
    void btn4Click()
    {
        animatedElement4.Animate(AnimateBook.ZoomEntrances.ZoomIn);
    }
    void btn5Click()
    {
        animatedElement5.Animate(AnimateBook.ZoomEntrances.ZoomIn.Slower());
    }
    void btn6Click()
    {
        animatedElement6.Animate(AnimateBook.ZoomEntrances.ZoomIn.Faster());
    }
}